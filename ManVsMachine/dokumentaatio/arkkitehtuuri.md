![](https://github.com/LauriTahvanainen/ot-harjoitustyo/blob/master/ManVsMachine/dokumentaatio/kuvat/luokkakaavio.png)
## Päätoiminnallisuudet
### Sisäänkirjautuminen
![](https://github.com/LauriTahvanainen/ot-harjoitustyo/blob/master/ManVsMachine/dokumentaatio/kuvat/Onnistunut%20sis%C3%A4%C3%A4nkirjautuminen.png)
ActionEventHandler käsittelee kaikki nappitapahtumat, ja kun käyttäjä on kirjoittanut käyttäjänimensä tekstikenttään ja painaa kirjautumisnappia, kutsuu ActionEventHandler handle metodiaan, jossa se kysyy omaavaltaan StateManagerilta, että mikä tila on tällä hetkellä aktiivisena. StateManager palauttaa LoginStaten, joten handle metodissa kutsutaan nimenomaan vain LoginState:n handleAction metodia. handleAction metodissa tarkistetaan, mikä paneeli loginStatessa on tällä hetkellä näkyvillä, ja koska aktiivisena on kirjautumispaneeli, kutsutaan LoginStaten metodia handleSignInView, mikä saa parametrinaan tiedot painalluksesta, errortekstikentän sekä tekstikentän johon käyttäjä on syöttänyt nimensä. Tässä metodissa kutsutaan UserDaon metodia read, joka hakee ja palauttaa tietokannasta syötettyä käyttäjänimeä vastaavan käyttäjäolion. Sitten nykyisen paneelin tila nollataan, ja StateManagerin avulla vaihdetaan nykyiseksi tilaksi MenuState ja Scenen root-paneeliksi MenuStaten alkupaneeli. StateManagerin avulla LoginStatesta myös lopuksi kutsutaan MenuStaten update metodia, joka päivittää oikean tervehdystekstin menu näkymään. Loppujen lopuksi käyttäjä on siis siirtynyt menu-tilaan.
